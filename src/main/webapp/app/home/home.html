<div ng-cloak>
    <form name="homeForm" role="form" novalidate ng-submit="vm.search()">
        <div class="row">
            <div class="col-md-12">
                <h1 data-translate="home.title">Welcome!</h1>
                <p class="lead" data-translate="home.subtitle">This is your homepage</p>

                <div ng-switch="vm.isAuthenticated()">
                    <div class="alert alert-success" ng-switch-when="true" data-translate="home.logged.message"
                         translate-values="{username: '{{vm.account.login}}'}">
                        You are logged in as user "{{vm.account.login}}".
                    </div>

                    <div class="alert alert-warning" ng-switch-when="false"
                         data-translate="global.messages.info.authenticated" translate-compile>
                        If you want to <a class="alert-link" href="" ng-click="vm.login()">sign in</a>, you can try the
                        default accounts:<br/>- Administrator (login="admin" and password="admin") <br/>- User
                        (login="user"
                        and password="user").
                    </div>

                    <div class="alert alert-warning" ng-switch-when="false"
                         data-translate="global.messages.info.register"
                         translate-compile>
                        You don't have an account yet? <a class="alert-link" ui-sref="register">Register a new
                        account</a>
                    </div>
                </div>

                <div class="form-group col-md-8">
                    <input type="text" name="query" class="form-control" ng-model="vm.query"
                           placeholder="Recherche..."/>
                </div>
                <div class="form-group col-md-4">
                    <div class="col-sm-offset-2 col-sm-10">
                        <button type="submit" class="btn btn-default btn-block btn-primary">Rechercher</button>
                    </div>
                </div>
                <div class="form-group col-md-12">
                    <tbody infinite-scroll="vm.loadPage(vm.page + 1)"
                           infinite-scroll-disabled="vm.page >= vm.links['last']">
                    <div class="panel panel-primary" ng-repeat="transcriptionrequest in vm.results ">
                        <div class="panel-heading">
                            <h2 class="panel-title">{{transcriptionrequest.artist}} :
                                {{transcriptionrequest.song_name}}</h2>
                        </div>

                        <div class="panel-body">
                            <div class="list-group">
                            <div class="list-group-item">Version : {{transcriptionrequest.release}}</div>
                            <div class="list-group-item">Morceau : {{transcriptionrequest.song_name}}</div>
                            <div class="list-group-item">Artiste : {{transcriptionrequest.artist}}</div>

                            </div>
                            <div class="panel-footer">
                                <strong>{{transcriptionrequest.price}}</strong>
                            </div>

                        </div>
                    </div>
                    </tbody>

                </div>

            </div>
        </div>

    </form>
</div>
